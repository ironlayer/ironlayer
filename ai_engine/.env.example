# =============================================================================
# IronLayer AI Engine — Environment Variables
# =============================================================================
#
# Copy to .env and customise. All variables use the AI_ENGINE_ prefix.
#
#   cp .env.example .env
#
# See ai_engine/ai_engine/config.py (AIEngineSettings) for full reference.
# =============================================================================

# --- Server ------------------------------------------------------------------
AI_ENGINE_HOST=0.0.0.0
AI_ENGINE_PORT=8001
AI_ENGINE_DEBUG=false

# --- LLM Integration --------------------------------------------------------
# Feature flag — set true to enable LLM-backed advisory features.
AI_ENGINE_LLM_ENABLED=false
AI_ENGINE_LLM_PROVIDER=anthropic
# AI_ENGINE_LLM_API_KEY=sk-ant-...
AI_ENGINE_LLM_MODEL=claude-sonnet-4-5-20250929
AI_ENGINE_LLM_TIMEOUT=10.0
AI_ENGINE_LLM_MAX_TOKENS=1024

# --- Model Paths -------------------------------------------------------------
AI_ENGINE_COST_MODEL_PATH=models/cost_model.joblib

# --- Thresholds --------------------------------------------------------------
AI_ENGINE_RISK_AUTO_APPROVE_THRESHOLD=3.0
AI_ENGINE_RISK_MANUAL_REVIEW_THRESHOLD=7.0
AI_ENGINE_SEMANTIC_CONFIDENCE_THRESHOLD=0.7

# --- Security ---------------------------------------------------------------
# Shared secret for API <-> AI engine authentication (required in non-dev mode).
# Must match the value set on the API service.
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# AI_ENGINE_SHARED_SECRET=<secret>

# Comma-separated allowed CORS origins for the AI engine.
AI_ENGINE_ALLOWED_ORIGINS=http://localhost:8000

# Rate limit: max requests per minute per tenant.
AI_ENGINE_RATE_LIMIT_PER_MINUTE=60

# Max request body size in bytes (1 MB default).
AI_ENGINE_MAX_BODY_SIZE=1048576

# --- Cache -------------------------------------------------------------------
AI_ENGINE_CACHE_ENABLED=true
AI_ENGINE_CACHE_MAX_ENTRIES=10000
